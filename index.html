<!DOCTYPE html>
<html lang="es">
<head>
    <a href="https://wa.me/521234567890" 
   class="whatsapp-link"
   target="_blank"
   aria-label="Contactar por WhatsApp">
   <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0OCA0OCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTQgNDhMIDI0IDQ0IDQ0IDQ4VjI0QzQ0IDEyLjk3IDM1LjAzIDQgMjQgNFM0IDEyLjk3IDQgMjR2MjR6Ii8+PHBhdGggZmlsbD0iIzI1RDM2NiIgZD0iTTM1LjIgMTUuMkMyOC42OCA4LjY2IDE5LjA2IDcuMDcgMTIuMjIgMTEuNEM1LjM4IDE1LjczIDMuNCAyNS4xIDcuNzQgMzEuOTRjMS4zMiAyLjA0IDIuMDIgNC4zOCAyLjAyIDYuOCAwIC42OC0uMDggMS4zNi0uMjQgMi4wMmwtMi4yIDguMkwxNi40IDM4YzYuMDYgMy4zNiAxMy4xMiAzLjQ0IDE5LjE0LjQ0IDcuMjYtMy41NiAxMS44OC0xMS4wNiAxMS44OC0xOS4xNiAwLTUuMjYtMi4xNC0xMC4yNi01LjkyLTE0LjA4ek0yNC4wMiAxMS45OGM1Ljg0IDAgMTEuMjYgMi4yOCAxNS4zMiA2LjM0IDQuMDYgNC4wNiA2LjM0IDkuNDggNi4zNCAxNS4zMiAwIDYuMTYtMy4xMiAxMS44LTEwLjIgMTUuMDYtNS4xNCAyLjQyLTEwLjY4IDIuMzQtMTUuNi0uMjRsLTEuNy0xLTEwLjE2IDIuNzIgMi43Mi0xMC4xNi0xLTEuN2MtMi41OC00LjkyLTIuNjYtMTAuNDYtLjI0LTE1LjYgMi4yNi00LjEgNi4wMi02LjQgMTAuNTItNi40em0tNC44NiAxOS4xNmwxLjE4IDEuOTRjMS4xOCAxLjk0IDIuODYgMy42MiA0LjggNC44bDEuOTQgMS4xOGMuNC4yNC44Mi4zNiAxLjI0LjM2LjMyIDAgLjY0LS4wOC45NC0uMjQgMS4wNi0uNTQgMS42LTEuNjggMS4yLTIuNzZsLS42LTEuN2MtLjM0LS45OC0uODgtMS45LTEuNTYtMi42LS4xOC0uMTgtLjM0LS4zNi0uNTItLjU0LS4zNi0uMzYtLjc0LS42OC0xLjE0LS45NkwzMS45IDI5Yy0uMzYtLjI0LS43Mi0uMTgtMS4wNi4wOC0xLjA4Ljg4LTIuMzYgMS40OC0zLjcgMS43Ni0uNTQuMTItMS4wOC4xOC0xLjYyLjE4LTEuMSAwLTIuMTYtLjE4LTMuMTYtLjU0LS44Mi0uMy0xLjYtLjc0LTIuMy0xLjM0LS4xOC0uMTYtLjM0LS4zMi0uNS0uNS0yLjQyLTIuNDItNC4xOC01LjM0LTQuOS04LjY4LS4xNi0uNjYtLjI0LTEuMzItLjI0LTIgMC0uNDYuMDYtLjk0LjE4LTEuNGwuNi0xLjdjLjI0LS41NC43LTEuMDggMS4yNi0xLjA4LjE4IDAgLjM2LjA0LjU0LjEybDEuOTQgMS4xOGMuNjguMzYgMS4zLjg4IDEuOCAxLjQ4LjM2LjQyLjY2Ljg4LjkgMS4zNi4yNC40OC4zNi45OC40MiAxLjQ4LjA2LjUuMDYgMS4wMiAwIDEuNTItLjEyLjkyLS40IDEuOC0uODggMi42eiIvPjwvc3ZnPg==" 
        alt="WhatsApp" 
        width="24">
   Contactar
    </a>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stolen Potato - Tienda</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <header>
        <h1>🥔 Stolen Potato 🥔</h1>
        <div class="stolen-potato-animation" aria-hidden="true"></div>
    </header>

    <main id="app">
        <!-- Carrito de compras -->
        <section class="cart-section" v-if="cart.items.length > 0">
            <h2>🛒 Carrito ({{ cart.totalItems }})</h2>
            <div class="cart-item" v-for="(item, index) in cart.items" :key="item.product.id">
                <h3>{{ item.product.name }} ×{{ item.quantity }}</h3>
                <p>Total: ${{ (item.product.price * item.quantity).toFixed(2) }}</p>
                <button @click="removeFromCart(index)" type="button">🗑️ Eliminar</button>
            </div>
            <p class="total">Total a pagar: ${{ cart.total.toFixed(2) }}</p>
        </section>

        <!-- Productos -->
        <section>
            <h2>Nuestras Papas</h2>
            <div class="grid">
                <article class="product-card" v-for="product in products" :key="product.id">
                    <h3>{{ product.name }}</h3>
                    <p>💰 Precio: ${{ product.price.toFixed(2) }}</p>
                    <div class="quantity-controls">
                        <button @click="decreaseQuantity(product)" type="button">-</button>
                        <input type="number" v-model.number="product.quantity" min="0">
                        <button @click="increaseQuantity(product)" type="button">+</button>
                    </div>
                    <button @click="addToCart(product)" type="button" :disabled="product.quantity <= 0">
                        {{ product.quantity > 0 ? 'Agregar al carrito' : 'Sin stock' }}
                    </button>
                </article>
            </div>
        </section>

        <!-- Formulario de pedido -->
        <section class="order-form">
            <h2>📝 Realizar Pedido</h2>
            <form @submit.prevent="sendOrder" novalidate>
                <div class="form-group">
                    <label for="name">Nombre completo:</label>
                    <input type="text" id="name" v-model.trim="order.name" required 
                           aria-describedby="nameHelp">
                    <small id="nameHelp">Ej: Juan Pérez</small>
                </div>

                <div class="form-group">
                    <label for="address">Dirección de entrega:</label>
                    <textarea id="address" v-model.trim="order.address" required rows="3"></textarea>
                </div>

                <div class="form-group">
                    <label for="phone">Teléfono de contacto:</label>
                    <input type="tel" id="phone" v-model.trim="order.phone" required
                           pattern="[0-9]{10}" title="10 dígitos sin espacios">
                </div>

                <div class="form-group">
                    <label for="payment">Forma de pago:</label>
                    <select id="payment" v-model="order.payment" required>
                        <option value="online">💳 Pago en línea</option>
                        <option value="cash">💰 Pago contra entrega</option>
                    </select>
                </div>

                <button type="submit" :disabled="cart.total === 0">
                    🚀 {{ cart.total === 0 ? 'Agrega productos primero' : 'Enviar Pedido' }}
                </button>
            </form>

            <div v-if="orderConfirmation" class="confirmation-message">
                <p>✅ {{ orderConfirmation }}</p>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
<a href="https://wa.me/573028143855?text=Hola,%20quiero%20información%20de%20Stolen%20Potato" 
   class="whatsapp-button" 
   target="_blank"
   aria-label="Contactar por WhatsApp">
   📱 WhatsApp
</a>
</body>
</html>
